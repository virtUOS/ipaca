{% extends "learning_environment/base.html" %}


{% block content %}

<div id="myhome" style="background-color:#f8f9fa;">

 {% include "learning_environment/header.html" %}

    <div class="container-fluid" style="background: #F9F9FB;">
        <div class="row flex-nowrap">

        {% include "learning_environment/nav.html" %}

            <div class="col" style="margin-left: 18px; margin-top: 18px; padding:0;">

            {% include "learning_environment/hamburger_offcanvas.html" %}

                {# Section cards #}

                <div class="container-fluid">
                    <div class="row justify-content-evenly">
                        <div class="col-md-4">
                            <div class="card-choice" style="padding:2em;">
                                <div class="d-flex gradient-yellow align-items-center justify-content-center" style="color:;font-weight:semi-bold; font-size:1.5em; border-radius:0.5em; padding:0.1em;">
                                    Section 1
                                </div>
                                <img src="/static/img/section1.svg" class="card-img-top" style="margin-top: 2em;" alt="" height="">
                                <div id="iconElement1" class="btn">
                                    <a href="{% url 'practice' %}">
                                    <i class="bi bi-arrow-right-circle fa-3x" style="display:flex;"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card-choice" style="padding:2em;">
                                <div class="d-flex gradient-green align-items-center justify-content-center" style="color:white;font-weight:semi-bold; font-size:1.5em; border-radius:0.5em; padding:0.1em;">
                                    Section 2
                                </div>
                                <img src="/static/img/section2.svg" class="card-img-top" style="margin-top: 2em;" alt="" height="">
                              <div id="iconElement2" class="btn">
                                    <a href="{% url 'practice' %}">
                                    <i class="bi bi-arrow-right-circle fa-3x" style="display:flex;"></i>
                                    </a>
                              </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card-choice" style="padding:2em;">
                                <div class="d-flex gradient-purple align-items-center justify-content-center" style="color:white;font-weight:semi-bold; font-size:1.5em; border-radius:0.5em; padding:0.1em;">
                                    Section 3
                                </div>
                                <img src="/static/img/section3.svg" class="card-img-top" style="margin-top: 2em;" alt="" height="">
                              <div id="iconElement3" class="btn">
                                    <a>
                                    <i class="bi fa-3x" style="display:flex;"><img src="/static/img/icon_lock.svg"></i>
                                    </a>
                              </div>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
            </div>
        </div>
        </div>
{% include "learning_environment/footer.html" %}
</div>
<script>
    var iconElement1 = document.getElementById("iconElement1");
    var iconElement2 = document.getElementById("iconElement2");
    var iconElement3 = document.getElementById("iconElement3");
    var current_level = {{ current_level }};
    var n_levels = {{ n_levels }};

    function lockMsg() {
   // Display SweetAlert alert when the icon is clicked
      Swal.fire({
        title: 'Section locked!',
        text: 'Level up to unlock the section!',
        icon: 'info',
        confirmButtonText: 'OK'
      });
    }
    iconElement3.addEventListener("click", lockMsg);
if ( current_level <= n_levels/3) { //
  // Change the icon based on the condition
    iconElement2.querySelector("i").classList.remove("bi-arrow-right-circle");
    iconElement2.querySelector("i").innerHTML = '<img src="/static/img/icon_lock.svg">';
    iconElement2.querySelector("a").removeAttribute("href");
    iconElement2.addEventListener("click", lockMsg);

} else if (current_level <= (n_levels/3)*2){
    iconElement1.querySelector("i").classList.remove("bi-arrow-right-circle");
    iconElement1.querySelector("i").classList.add("bi-check-circle");
    iconElement1.querySelector("i").setAttribute("style", "display:flex; color:green;");
    iconElement1.querySelector("a").removeAttribute("href");
    iconElement1.setAttribute("style", "cursor:auto;");

} else {
    iconElement1.querySelector("i").classList.remove("bi-arrow-right-circle");
    iconElement1.querySelector("i").classList.add("bi-check-circle");
    iconElement1.querySelector("i").setAttribute("style", "display:flex; color:green;");
    iconElement1.querySelector("a").removeAttribute("href");
    iconElement1.setAttribute("style", "cursor:auto;");
    iconElement2.querySelector("i").classList.remove("bi-arrow-right-circle");
    iconElement2.querySelector("i").classList.add("bi-check-circle");
    iconElement2.querySelector("i").setAttribute("style", "display:flex; color:green;");
    iconElement2.querySelector("a").removeAttribute("href");
    iconElement2.setAttribute("style", "cursor:auto;");
    iconElement3.querySelector("i").classList.add("bi-arrow-right-circle");
    iconElement3.querySelector("a").setAttribute("href", "{% url 'practice' %}");
    iconElement3.querySelector("img").remove();
    iconElement3.removeEventListener("click", lockMsg);
}
</script>
{% endblock %}
